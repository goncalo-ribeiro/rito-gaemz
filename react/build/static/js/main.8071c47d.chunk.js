(this["webpackJsonptft-insights"]=this["webpackJsonptft-insights"]||[]).push([[0],{114:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(35),c=a(54),i=a(10),o=a.n(i),s=(a(76),a(36));function u(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Home"))}var m=a(55),d=a(150),p=a(148),f=a(24),h=a(143),E=a(146),g=a(147),v=a(142),b=a(145),y=a(139),N=a(141),O=a(151),w=a(144),k="http://localhost:8000";function C(e,t,a){var n=e[a],r=t[a];try{n=n.split("%")[0],r=r.split("%")[0],n=parseFloat(n),r=parseFloat(r)}catch(l){}return r<n?-1:r>n?1:0}function T(e){var t=e.classes,a=e.order,n=e.orderBy,l=e.onRequestSort,c=e.headCells;return r.a.createElement(y.a,null,r.a.createElement(N.a,null,c.map((function(e){return r.a.createElement(v.a,{key:e.id,align:"center",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},r.a.createElement(O.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(c=e.id,function(e){l(e,c)})},e.label,n===e.id?r.a.createElement("span",{className:t.visuallyHidden},"desc"===a?"sorted descending":"sorted ascending"):null));var c}))))}var j=Object(h.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function I(e){var t=[];e.rows.forEach((function(a){var n=[];e.elements.forEach((function(e){n.push(a[e])})),t.push(function(e,t){var a={};return t.forEach((function(t){a[t]=e.shift()})),a}(n,e.headers,a.id,a.new))}));var a=[];e.headers.forEach((function(e){a.push({id:e,numeric:!1,disablePadding:!1,label:e})}));var n=e.primaryKey,l=e.orderCol,c=e.orderDir,i=j(),o=r.a.useState(c),s=Object(f.a)(o,2),u=s[0],m=s[1],d=r.a.useState(l),p=Object(f.a)(d,2),h=p[0],y=p[1],O=r.a.useState([]),I=Object(f.a)(O,2),R=I[0],S=I[1];return r.a.createElement("div",{className:i.root},r.a.createElement(w.a,{className:i.paper},r.a.createElement(b.a,null,r.a.createElement(E.a,{className:i.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table"},r.a.createElement(T,{classes:i,numSelected:R.length,order:u,orderBy:h,onSelectAllClick:function(e){if(e.target.checked){var a=t.map((function(e){return e.name}));S(a)}else S([])},onRequestSort:function(e,t){m(h===t&&"asc"===u?"desc":"asc"),y(t)},rowCount:t.length,headCells:a}),r.a.createElement(g.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(t,function(e,t){return"desc"===e?function(e,a){return C(e,a,t)}:function(e,a){return-C(e,a,t)}}(u,h)).map((function(t){return r.a.createElement(N.a,{tabIndex:-1,key:t[n]},e.headers.map((function(e){return"Unit"===e?r.a.createElement(v.a,{align:"center",key:e},r.a.createElement("div",{className:"champion"},r.a.createElement("img",{className:"champion-icon",src:k+"/champions/TFT4_"+t[e]+".png",alt:""})," ",t[e])):"Items"===e?r.a.createElement(v.a,{align:"center",key:e},r.a.createElement("div",{className:"items"},t[e].map((function(e){return r.a.createElement("div",{className:"item",key:e.id},r.a.createElement("img",{className:"item-icon",src:k+"/items/"+(e.id>9?e.id:"0"+e.id)+".png",alt:""}),r.a.createElement("span",null,e.percent))})))):r.a.createElement(v.a,{align:"center",key:e},t[e])})))})))))))}var R=a(149),S=a(30),_=a.n(S),H=a(40),q=a(56),F=a.n(q),P=function(e){return{type:"CHANGE_REGION",payload:e}};var x=Object(l.b)((function(e){return{tft:e.tft}}),{requestInsights:function(e){return function(){var t=Object(H.a)(_.a.mark((function t(a){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F.a.get(k+"/tft/units/"+e);case 3:return n=t.sent,console.log(n),a({type:"RETURN_INSIGHTS",payload:n.data}),t.abrupt("return","");case 9:if(t.prev=9,t.t0=t.catch(0),console.log(t.t0),a({type:"FAIL_RETURN_INSIGHTS"}),!t.t0||!t.t0.response||403!==t.t0.response.status){t.next=17;break}return t.abrupt("return","\u274c API Key Expired!");case 17:return t.abrupt("return","\u274c Request Limit Reached!");case 18:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},changeRegion:function(){return function(e){return function(){var t=Object(H.a)(_.a.mark((function t(a){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(P(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}})((function(e){var t=e.tft,a=t.requested,n=t.units,l=t.totalMatches,c=t.region,i=t.error,o=function(t){var a=e.requestInsights(t);a&&Object(s.b)(a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return 0===n.length&&!a&&!i&&o(c),r.a.createElement(m.Scrollbars,{autoHide:!0,className:"scrollbar",renderTrackHorizontal:function(e){return r.a.createElement("div",Object.assign({},e,{className:"track-horizontal"}))},renderTrackVertical:function(e){return r.a.createElement("div",Object.assign({},e,{className:"track-vertical"}))},renderThumbHorizontal:function(e){return r.a.createElement("div",Object.assign({},e,{className:"thumb-horizontal"}))},renderThumbVertical:function(e){return r.a.createElement("div",Object.assign({},e,{className:"thumb-vertical"}))}},r.a.createElement("div",{className:"app-container"},r.a.createElement("h3",{className:"center"},"TFT Insights"),r.a.createElement(d.a,{value:c,onChange:function(t,a){e.changeRegion(a),e.requestInsights(a)},indicatorColor:"primary",textColor:"primary",centered:!0},r.a.createElement(p.a,{label:"EU"}),r.a.createElement(p.a,{label:"NA"}),r.a.createElement(p.a,{label:"KR"})),i?r.a.createElement("div",{className:"full-width"},r.a.createElement(R.a,{className:"btn-main",variant:"contained",color:"primary",onClick:function(){o(c)}},"Retry Request"),r.a.createElement("p",{className:"note"},"Request limit reached, please wait a bit before retrying.")):r.a.createElement(r.a.Fragment,null,a?r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{rows:n,headers:["Unit","1st Place","Top 4","Items"],elements:["unit","win","top","items"],primaryKey:"Unit",orderCol:"1st Place",orderDir:"desc",rowCount:15}),r.a.createElement("p",{className:"note"},"Data recovered from ",l," of the latest matches of the top Challenger players of the selected region.")):r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))))))}));function U(){return r.a.createElement("div",null,r.a.createElement("h1",null,"TFT Profile"))}function A(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Rift Insights"))}function G(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Rift Profile"))}var B=a(57),D=Object(B.a)(),z=a(17);function K(){var e=0;switch(D.location.pathname){case"/tft/insights":e=1;break;case"/tft/profile":e=2;break;case"/rift/insights":e=3;break;case"/rift/profile":e=4}var t=r.a.useState(e),a=Object(f.a)(t,2),n=a[0],l=a[1];return r.a.createElement(d.a,{value:n,onChange:function(e,t){l(t)},indicatorColor:"primary",textColor:"primary",centered:!0},r.a.createElement(p.a,{label:"Home",component:z.a,to:"/"}),r.a.createElement(p.a,{label:"TFT Insights",component:z.a,to:"/tft/insights"}),r.a.createElement(p.a,{label:"TFT Profile",component:z.a,to:"/tft/profile"}),r.a.createElement(p.a,{label:"Rift Insights",component:z.a,to:"/rift/insights"}),r.a.createElement(p.a,{label:"Rift Profile",component:z.a,to:"/rift/profile"}))}var L=function(e){return e.pageComponent};function M(){return r.a.createElement("main",{className:"App"},r.a.createElement(s.a,null),r.a.createElement(K,null),r.a.createElement(z.b,{style:{width:"100%",height:"100%"}},r.a.createElement(L,{path:"/",pageComponent:r.a.createElement(u,null)}),r.a.createElement(L,{path:"/tft/insights",pageComponent:r.a.createElement(x,null)}),r.a.createElement(L,{path:"/tft/profile",pageComponent:r.a.createElement(U,null)}),r.a.createElement(L,{path:"/rift/insights",pageComponent:r.a.createElement(A,null)}),r.a.createElement(L,{path:"/rift/profile",pageComponent:r.a.createElement(G,null)})))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=a(14),J=a(59),W=a(29),X=a(60),$=a.n(X),Q=a(15),Y={requested:!1,units:[],totalMatches:1,region:0,error:!1},Z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||V.d,ee=[J.a],te={key:"root",storage:$.a,debug:!1,blacklist:[]},ae=Object(W.b)(te,{tft:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case W.a:return n&&n.tft?Object(Q.a)({},Y):e;case"RETURN_INSIGHTS":return Object(Q.a)(Object(Q.a)(Object(Q.a)({},e),n),{},{requested:!0,error:!1});case"FAIL_RETURN_INSIGHTS":return Object(Q.a)(Object(Q.a)({},e),{},{error:!0});case"CHANGE_REGION":return Object(Q.a)(Object(Q.a)({},e),{},{region:n,requested:!1,error:!1});default:return e}}}),ne=function(){var e=Object(V.e)(ae,Z(V.a.apply(void 0,ee)));return{persistor:Object(W.c)(e),store:e}}(),re=ne.persistor,le=ne.store;o.a.render(r.a.createElement(c.a,{persistor:re},r.a.createElement(l.a,{store:le},r.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},67:function(e,t,a){e.exports=a(114)},76:function(e,t,a){}},[[67,1,2]]]);
//# sourceMappingURL=main.8071c47d.chunk.js.map